@using System.Linq
@model AspStudio_Boilerplate.Areas.Users.Models.EditUserViewModel


@{
    ViewData["Title"] = "Edit User";
}

<ul class="breadcrumb">
    <li class="breadcrumb-item">
        <a href="#">Home</a>
    </li>
</ul>

<div>
    <h3>Now Editing: @Model.FirstName</h3>
    <div class="card">
        <div class="card-body">

            <form asp-action="Edit">
                <input type="hidden" asp-for="UserName" />
                <div class="form-group">
                    <label asp-for="Email" class="control-label"></label>
                    <input asp-for="Email" class="form-control"/>
                    <span asp-validation-for="Email" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="FirstName" class="control-label"></label>
                    <input asp-for="FirstName" class="form-control"/>
                    <span asp-validation-for="FirstName" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="LastName" class="control-label"></label>
                    <input asp-for="LastName" class="form-control"/>
                    <span asp-validation-for="LastName" class="text-danger"></span>
                </div>
                
                <br/>
                <select class="js-example-basic-multiple form-control" id="rolesDropdown" asp-for="Roles" asp-items="ViewBag.Roles" multiple="multiple"></select>
                <br/>
                <br/>
                <div class="btn-group">
                    <div>
                        <a asp-action="Index" class="btn btn-danger">Cancel</a>
                    </div>
                    
                    <div>
                        <input type="submit" value="Save" class="btn btn-primary"/>
                    </div>
                </div>
            </form>

        </div>



    </div>
</div>

@section Styles  {

    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.12/dist/css/select2.min.css" rel="stylesheet" />

    <style type="text/css">
        </style>
}
@section Scripts {

    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.12/dist/js/select2.min.js"></script>

    <script type="text/javascript">
        $("#rolesDropdown").select2({
                tags: true,
                createTag: function (params) {
                    // Don't offset to create a tag if there is no at symbol
                    if (params.term.indexOf('@@') === -1) {
                        // Return null to disable tag creation
                        return null;
                    }
                    return {
                        id: params.term,
                        text: params.term
                    }
                }
            }
        );
    </script>
}